<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Pay 25% — RentoVerse</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdn.tailwindcss.com"></script>
    <meta name="color-scheme" content="light dark" />
    <style>
        /* Optional: nicer focus ring for keyboard users */
        :focus-visible { outline: none; box-shadow: 0 0 0 3px rgba(16,185,129,.5); border-radius: 12px; }

        /* === Standard background for required inputs === */
        :root{
            --required-bg: #F0F9FF;       /* Tailwind amber-50 */
            --required-focus-bg: #E0F2FE; /* Tailwind amber-100 */
        }

        /* Apply only to required fields; keep readonly/disabled unchanged */
        input:required:not([type="checkbox"]):not([type="radio"]):not([readonly]),
        textarea:required:not([readonly]),
        select:required:not([disabled]) {
            background-color: var(--required-bg);
        }

        /* Slightly deeper on focus to signal interaction */
        input:required:focus,
        textarea:required:focus,
        select:required:focus {
            background-color: var(--required-focus-bg);
        }
    </style>

    <style>
        /* Same soft color for Note + Captcha */
        :root{
            --accent-bg: #F0F9FF;       /* sky-50 */
            --accent-focus-bg: #E0F2FE; /* sky-100 */
        }

        /* Force light background even in dark mode */
        #note,
        #captchaA{
            background-color: var(--accent-bg) !important;
            color: #111827; /* slate-900 for readability */
        }

        #note:focus,
        #captchaA:focus{
            background-color: var(--accent-focus-bg) !important;
        }
    </style>


</head>
<body class="min-h-screen bg-gradient-to-b from-emerald-50 via-white to-white text-gray-900">
<!-- Top bar -->
<header class="sticky top-0 z-10 backdrop-blur supports-[backdrop-filter]:bg-white/60 border-b">
    <div class="max-w-4xl mx-auto px-6 h-14 flex items-center justify-between">
        <a href="index.html" class="flex items-center gap-2 font-semibold">
            <img src="https://img.icons8.com/fluency/48/home.png" alt="Logo" class="w-6 h-6" />
            <span class="text-xl font-bold text-blue-700">RentoVerse</span>
        </a>
        <nav class="flex items-center gap-4 text-sm">
            <a href="renter-dashboard.html"
               class="inline-flex items-center gap-2 text-emerald-700 hover:text-emerald-800 leading-none">
    <span class="inline-flex items-center justify-center w-4 h-4">

    </span>
                <span>←Back to Dashboard</span>
            </a>
        </nav>

    </div>
</header>

<main class="max-w-4xl mx-auto px-6 py-8 space-y-6">
    <div class="flex items-start justify-between gap-4">
        <h1 class="text-2xl md:text-3xl font-extrabold tracking-tight">Pay 25% Deposit</h1>
        <div class="hidden md:flex items-center text-xs text-gray-600 gap-2">
            <span class="inline-flex items-center gap-1"><span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span> Secure</span>
            <span>•</span>
            <span class="inline-flex items-center gap-1"><span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span> Instant update</span>
        </div>
    </div>

    <!-- Progress / steps -->
    <ol class="grid grid-cols-3 gap-2 text-xs">
        <li class="flex items-center gap-2 rounded-xl border bg-white p-2"><span class="inline-flex w-5 h-5 items-center justify-center rounded-full bg-emerald-600 text-white">1</span> Booking</li>
        <li class="flex items-center gap-2 rounded-xl border bg-white p-2 ring-1 ring-emerald-500/50"><span class="inline-flex w-5 h-5 items-center justify-center rounded-full bg-emerald-600 text-white">2</span> 25% Deposit</li>
        <li class="flex items-center gap-2 rounded-xl border bg-white p-2 opacity-60"><span class="inline-flex w-5 h-5 items-center justify-center rounded-full bg-gray-200">3</span> Move‑in</li>
    </ol>

    <!-- Booking summary -->
    <section class="bg-white/90 backdrop-blur rounded-2xl shadow-sm ring-1 ring-gray-200 p-5 space-y-3">
        <div id="bookingSummary" class="text-sm text-gray-700">
            <!-- JS fills: room title, code, rent, deposit -->
            <div class="animate-pulse text-gray-400">Loading booking details…</div>
        </div>

        <div class="border-t pt-4 space-y-4">
            <h2 class="text-lg font-semibold">Payment Method</h2>

            <!-- Selectable payment cards (pure CSS via peer) -->
            <div class="grid md:grid-cols-3 gap-3">
                <!-- bKash -->
                <label class="group relative block cursor-pointer rounded-2xl border bg-white p-3 hover:shadow-sm transition">
                    <input type="radio" name="pmethod" value="BKASH" class="peer methodRadio sr-only" checked />
                    <div class="flex items-center gap-3">
                        <div class="w-9 h-9 rounded-xl bg-pink-100 grid place-items-center">
                            <!-- generic wallet icon -->
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-5 h-5" fill="currentColor"><path d="M2 7a3 3 0 0 1 3-3h12a2 2 0 0 1 2 2h1a2 2 0 1 1 0 4h-1v4a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V7Zm17 1H5a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V8Zm2 0a1 1 0 1 0 0 2h1a1 1 0 1 0 0-2h-1Z"/></svg>
                        </div>
                        <div class="flex-1">
                            <div class="font-medium">bKash</div>
                            <div class="text-xs text-gray-500">Fastest processing</div>
                        </div>
                        <div class="ml-auto hidden peer-checked:block" aria-hidden="true">
                            <span class="inline-flex items-center gap-1 text-emerald-700 text-xs font-medium"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-4 h-4" fill="currentColor"><path d="M9 16.17 4.83 12 3.41 13.41 9 19l12-12-1.41-1.41z"/></svg>Selected</span>
                        </div>
                    </div>
                    <div class="absolute inset-0 rounded-2xl ring-2 ring-transparent peer-checked:ring-emerald-500/70"></div>
                </label>

                <!-- Nagad -->
                <label class="group relative block cursor-pointer rounded-2xl border bg-white p-3 hover:shadow-sm transition">
                    <input type="radio" name="pmethod" value="NAGAD" class="peer methodRadio sr-only" />
                    <div class="flex items-center gap-3">
                        <div class="w-9 h-9 rounded-xl bg-orange-100 grid place-items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-5 h-5" fill="currentColor"><path d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3H9l-4.586 4.586A1 1 0 0 1 3 18.586V6Z"/></svg>
                        </div>
                        <div class="flex-1">
                            <div class="font-medium">Nagad</div>
                            <div class="text-xs text-gray-500">Popular choice</div>
                        </div>
                        <div class="ml-auto hidden peer-checked:block" aria-hidden="true">
                            <span class="inline-flex items-center gap-1 text-emerald-700 text-xs font-medium"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-4 h-4" fill="currentColor"><path d="M9 16.17 4.83 12 3.41 13.41 9 19l12-12-1.41-1.41z"/></svg>Selected</span>
                        </div>
                    </div>
                    <div class="absolute inset-0 rounded-2xl ring-2 ring-transparent peer-checked:ring-emerald-500/70"></div>
                </label>

                <!-- Rocket -->
                <label class="group relative block cursor-pointer rounded-2xl border bg-white p-3 hover:shadow-sm transition">
                    <input type="radio" name="pmethod" value="ROCKET" class="peer methodRadio sr-only" />
                    <div class="flex items-center gap-3">
                        <div class="w-9 h-9 rounded-xl bg-purple-100 grid place-items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-5 h-5" fill="currentColor"><path d="M14 2a1 1 0 0 1 .894.553l1.618 3.236 3.236 1.618A1 1 0 0 1 20 9v2a6 6 0 0 1-1.757 4.243l-2.121 2.121a6 6 0 0 1-4.243 1.757H10a1 1 0 0 1-.894-.553L7.488 15.07 3.553 13.106A1 1 0 0 1 3 12v-2a6 6 0 0 1 1.757-4.243L6.879 3.636A6 6 0 0 1 11.121 2H14Z"/></svg>
                        </div>
                        <div class="flex-1">
                            <div class="font-medium">Rocket</div>
                            <div class="text-xs text-gray-500">Banking wallet</div>
                        </div>
                        <div class="ml-auto hidden peer-checked:block" aria-hidden="true">
                            <span class="inline-flex items-center gap-1 text-emerald-700 text-xs font-medium"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-4 h-4" fill="currentColor"><path d="M9 16.17 4.83 12 3.41 13.41 9 19l12-12-1.41-1.41z"/></svg>Selected</span>
                        </div>
                    </div>
                    <div class="absolute inset-0 rounded-2xl ring-2 ring-transparent peer-checked:ring-emerald-500/70"></div>
                </label>
            </div>

            <!-- Dynamic admin instructions (JS fills) -->
            <div id="methodHelp" class="bg-gray-50 rounded-xl p-4 text-sm text-gray-700 border">
                <div class="flex items-start gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-5 h-5 mt-0.5" fill="currentColor"><path d="M12 2a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2Zm1 15h-2v-6h2Zm0-8h-2V7h2Z"/></svg>
                    <p><em>Instructions will appear here.</em> Make sure to include your <strong>Room Code</strong> in the payment reference.</p>
                </div>
            </div>

            <!-- kept in sync by JS -->
            <input type="hidden" id="method" value="BKASH" />
        </div>
    </section>

    <!-- Form -->
    <section class="bg-white/90 backdrop-blur rounded-2xl shadow-sm ring-1 ring-gray-200 p-5 space-y-5">
        <div class="flex items-center justify-between">
            <h2 class="text-lg font-semibold">Your Details</h2>
            <span class="text-xs text-gray-500">All fields marked * are required</span>
        </div>

        <form id="payForm" class="grid gap-5" autocomplete="off">
            <div class="grid md:grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm mb-1">Full Name <span class="text-rose-500">*</span></label>
                    <input id="payerName" class="w-full border rounded-xl px-3 py-2 focus:ring-2 focus:ring-emerald-400" placeholder="Your name" required />
                </div>
                <div>
                    <label class="block text-sm mb-1">Phone <span class="text-rose-500">*</span></label>
                    <input id="payerPhone" class="w-full border rounded-xl px-3 py-2 focus:ring-2 focus:ring-emerald-400" placeholder="01XXXXXXXXX" inputmode="tel" required />
                </div>
            </div>

            <div class="grid md:grid-cols-3 gap-4">
                <div>
                    <label class="block text-sm mb-1">Booking ID</label>
                    <input id="bookingIdInput" class="w-full border rounded-xl px-3 py-2 bg-gray-100" readonly />
                </div>
                <div>
                    <label class="block text-sm mb-1">Room Code</label>
                    <input id="roomCode" class="w-full border rounded-xl px-3 py-2 bg-gray-100" readonly />
                </div>
                <div>
                    <label class="block text-sm mb-1">Amount (25%)</label>
                    <input id="amountInput" class="w-full border rounded-xl px-3 py-2 bg-gray-100" readonly />
                </div>
            </div>

            <div class="grid md:grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm mb-1">Transaction ID <span class="text-rose-500">*</span></label>
                    <input id="txnId" class="w-full border rounded-xl px-3 py-2 focus:ring-2 focus:ring-emerald-400" placeholder="e.g., TXN1234…" required />
                </div>
                <div>
                    <label class="block text-sm mb-1">Note (optional)</label>
                    <input id="note" class="w-full border rounded-xl px-3 py-2" placeholder="Any note…" />
                </div>
            </div>

            <!-- simple captcha + regenerate -->
            <div class="flex flex-wrap items-center gap-3 p-3 rounded-xl border bg-gray-50">
                <span id="captchaQ" class="text-sm">What is 2 + 3?</span>
                <input id="captchaA" class="border rounded-xl px-3 py-2 w-24 focus:ring-2 focus:ring-emerald-400" placeholder="?" inputmode="numeric" required />
                <button type="button" id="regenCaptchaBtn" class="text-xs text-emerald-700 hover:underline">Regenerate</button>
            </div>

            <div class="flex items-center gap-3">
                <button type="submit" class="bg-emerald-600 hover:bg-emerald-700 text-white px-5 py-2 rounded-xl shadow-sm">
                    Submit Payment
                </button>
                <span class="text-xs text-gray-500">By submitting, you confirm the transaction details are correct.</span>
            </div>
        </form>

        <div id="payStatus" class="text-sm text-gray-700"></div>

        <div class="pt-4 border-t text-xs text-gray-500">
            <p class="flex items-start gap-2"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-4 h-4 mt-0.5" fill="currentColor"><path d="M12 1a4 4 0 0 1 4 4v2h1a4 4 0 0 1 4 4v4a6 6 0 0 1-6 6H9a6 6 0 0 1-6-6V11a4 4 0 0 1 4-4h1V5a4 4 0 0 1 4-4Z"/></svg> We never ask for your PIN or password. Share only your Transaction ID. Contact support if unsure.</p>
        </div>
    </section>
</main>

<!-- Use the corrected script (no backend changes) -->
<script src="js/payment.js"></script>
</body>
</html>